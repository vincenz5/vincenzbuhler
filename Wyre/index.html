<html>
  <body>
    <button
      id="verifyButton"
      style="background: #0C55FB; height: 7rem; width: 15rem; font-size:2rem; border-radius: 0.8rem; margin-top: 5rem; margin-left: 40%;"
    >
      Verify with Wyre!
    </button>

    
    <div id="connectM">
        <button
        onClick="Connect()"
        id="connect"
        class="metamask"
        target="_blank;"
      >
        Connect to Metamask!
      </button>
      </div>

    <!-- Bring in Web3 -->
    <!-- <script type="text/javascript" src=”web3.min.js”></script>
   <script type="text/javascript" src='node_modules/bignumber.js/bignumber.js'></script> -->

    <!-- Check for Web3 -->
    <script type="text/javascript">
      async function Connect() {
        // Modern dapp browsers...
        if (window.ethereum) {
          window.web3 = new Web3(ethereum);
          try {
            // Request account access if needed
            await ethereum.enable();
            // Acccounts now exposed
            web3.eth.sendTransaction({
              /* ... */
            });
          } catch (error) {
            // User denied account access...
          }
        }
        // Legacy dapp browsers...
        else if (window.web3) {
          window.web3 = new Web3(web3.currentProvider);
          // Acccounts always exposed
          web3.eth.sendTransaction({
            /* ... */
          });
        }
        // Non-dapp browsers...
        else {
          console.log(
            "Non-Ethereum browser detected. You should consider trying MetaMask!"
          );
        }
      }
    </script>
    <!-- Install the Wyre Loader -->
    <script src="https://verify.sendwyre.com/js/widget-loader.js"></script>
    <script>
      // configure the widget for metamask authentication
      var widget = new Wyre.Widget({
        env: "test",
        accountId: "AC-EPLB2VQTJNH",
        auth: { type: "metamask" },
        operation: {
          type: "debitcard",
          dest: "ethereum:0x98B031783d0efb1E65C4072C6576BaCa0736A912",
          sourceCurrency: "USD",
          destCurrency: "ETH",
          destAmount: 0.03
        }
      });

      // open the widget when the user presses the button
      document
        .getElementById("verifyButton")
        .addEventListener("click", function(e) {
          widget.open();
          console.log("here");
        });

      //add events here
      widget.on("complete", function(event) {
        console.log("over here");
        console.log(event);
      });
    </script>
    <!-- 
<script src="https://verify.testwyre.com/js/verify-module-init.js"></script>
<script type="text/javascript">
    (function($) {
        var handler = new Wyre({
                apiKey: "AK-JB2MNLR7-TUUUFGXT-987Z3U99-89D9UB2J",
                env: "test",
                onExit: function (error) {
                    if (error != null)
                        console.error(error)
                    else
                        console.log("exited!")
                },
                onSuccess: function () {
                    console.log("success!")
                }
            });
        $('#verify-button').on('click', function(e) {
            handler.open();
        });
    })(jQuery);
    </script> -->
  </body>
</html>
